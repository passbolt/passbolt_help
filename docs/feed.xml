<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.0">Jekyll</generator><link href="https://help.passbolt.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://help.passbolt.com/" rel="alternate" type="text/html" /><updated>2018-04-11T11:27:36+02:00</updated><id>https://help.passbolt.com/</id><title type="html">Passbolt | Help</title><subtitle>The help site for passbolt, the open source password manager for teams. This site contains frequently asked questions, article to troubleshoot common issues, installation tutorials, blueprints for developers, and more!</subtitle><entry><title type="html">Install passbolt from scratch on Debian 9 (Stretch)</title><link href="https://help.passbolt.com/hosting/install/ce/debian-9-stretch.html" rel="alternate" type="text/html" title="Install passbolt from scratch on Debian 9 (Stretch)" /><published>2018-04-09T02:00:00+02:00</published><updated>2018-04-09T02:00:00+02:00</updated><id>https://help.passbolt.com/hosting/install/ce/from-source</id><content type="html" xml:base="https://help.passbolt.com/hosting/install/ce/debian-9-stretch.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;

    &lt;p&gt;Spin up a new fresh server with Debian 9 (Stretch). Make sure that it is up-to-date.&lt;/p&gt;

    &lt;h2 id=&quot;installation-steps&quot;&gt;Installation steps&lt;/h2&gt;

    &lt;h3 id=&quot;base-packages&quot;&gt;1. Base packages&lt;/h3&gt;
    &lt;p&gt;No need to install any particular package such as the webserver (apache) during the setup. Let‚Äôs stick to the bare minimum for now, as we will do the rest manually.&lt;/p&gt;

    &lt;p&gt;Since we will need administrator privileges to perform most of the steps, you could either setup sudo for your default user, or log in the terminal as root.&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;We can install some basic utilities: Git, composer, unzip, make, the linux kernel headers and a compiler, as will all be needed later on.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;make git-core composer unzip g++ linux-headers-amd64 &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;database-installation&quot;&gt;2. Database installation&lt;/h3&gt;
    &lt;p&gt;Once the installation is complete and you are logged in, open a terminal. We can start by installing the database server. We will use mariadb here, but you could also use mysql.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;mariadb-server &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;By default, MariaDB / MySQL is installed with basic security, and no root password. Let‚Äôs fix this.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql_secure_installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Answer the questions and set a strong root password.&lt;/p&gt;

    &lt;p&gt;Let‚Äôs now create a specific passbolt user and database.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;
mysql &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; create database passbolt&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
mysql &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; create user passbolt&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
mysql &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; grant all on passbolt.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; to &lt;span class=&quot;s1&quot;&gt;'passbolt'&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;'localhost'&lt;/span&gt; identified by &lt;span class=&quot;s1&quot;&gt;'strong_db_password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
mysql &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; flush privileges&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
mysql &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; quit&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;webserver-installation-apache2&quot;&gt;3. Webserver installation (apache2)&lt;/h3&gt;
    &lt;p&gt;Next we will want to install the apache webserver that will serve our php application.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;apache2 &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Passbolt needs the mod_rewrite module to function properly.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;a2enmod rewrite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;We can see if this worked by opening up the web browser and going to the url: http://localhost (or whatever hostname / ip used by your machine). 
By default apache stores the web pages in /var/www/html so we can see and edit the default html page in this directory if needed.&lt;/p&gt;

    &lt;h3 id=&quot;php-installation&quot;&gt;4. PHP installation&lt;/h3&gt;
    &lt;p&gt;Now let‚Äôs install php 7 and its dependencies. By default the command line interface (php5-cli) and the apache mod for php (libapache2-mod-php5) will be also installed as dependencies. We will need them later on.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;php7.0 php7.0-cli php7.0-common libapache2-mod-php7.0 php7.0-json php7.0-readline php7.0-mysqlnd libonig4 libqdbm14 &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Passbolt needs some extra dependencies to run properly:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;php7.0-gd php7.0-intl php7.0-simplexml php7.0-curl php7.0-dom php7.0-mbstring &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Passbolt needs GnuPG and it corresponding php module to run.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;libgpgme11-dev php7.0-gnupg &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;You will need to restart your apache server for the changes to take place.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;systemctl restart apache2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;virtual-host-config&quot;&gt;5. Virtual host config&lt;/h3&gt;
    &lt;p&gt;For apache to work with passbolt we need to edit the virtual host configuration file to add the passbolt folder and rewrite rules.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/apache2/sites-enabled/000-default.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;This is what a minimal configuration without ssl looks like (we‚Äôll get to the ssl part later). Of course you will need to replace your administrator email address (ServerAdmin setting) and server name (ServerName setting).&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;VirtualHost *:80&amp;gt;
    ServerAdmin webmaster@localhost
    ServerName passbolt.dev

    DocumentRoot /var/www/passbolt

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    &amp;lt;Directory /var/www/passbolt&amp;gt;
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    &amp;lt;/Directory&amp;gt;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;domain-name-setup&quot;&gt;6. Domain name setup&lt;/h3&gt;
    &lt;p&gt;For the sake of keeping this demonstration short we will use passbolt.dev as domain name
(we added the IP to domain name mapping with a manual entry in the /etc/hosts file after a quick lookup on ifconfig).&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Add this line to the file&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;127.0.0.1 passbolt.dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Of course, replace 127.0.0.1 by whichever ip is used by your host.&lt;/p&gt;

    &lt;h3 id=&quot;download-passbolt&quot;&gt;7. Download passbolt&lt;/h3&gt;

    &lt;p&gt;In the virtual host configuration file we are pointing to /var/www/passbolt but obviously it does not exist yet! 
Let‚Äôs create it, by cloning passbolt official repository. This way we can pull new releases easily in the future.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/www
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://github.com/passbolt/passbolt_api.git ./passbolt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;generate-an-openpgp-key&quot;&gt;8. Generate an OpenPGP key&lt;/h3&gt;
    &lt;p&gt;Passbolt API uses an OpenPGP key for the server in order to authenticate and sign the outgoing JSON requests.&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Running gpg ‚Äìgen-key on a virtual machine can take a while because /dev/random does not have enough ‚Äúrandomness‚Äù aka entropy. You can speed up the gpg key creation with the &lt;strong&gt;haveged&lt;/strong&gt; package to improve the entropy generation : &lt;code class=&quot;highlighter-rouge&quot;&gt;apt-get install haveged -y&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;Now generate an OpenPGP key&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;Important: Currently php-gnupg does not support keys with a passphrase so you will need to leave that field empty.&lt;/strong&gt;&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--gen-key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; if you do not run this command as www-data the result will be stored in /root/.gnupg. Thankfully passbolt does import the keys at runtime into the www-data keyring if it is not already present.&lt;/p&gt;

    &lt;p&gt;It‚Äôs a good idea to fill in the details properly and not press enter frantically. Make sure you have decent name and email for the key. This will come in handy to identify and verify it down the line.&lt;/p&gt;

    &lt;p&gt;After creating the key &lt;strong&gt;make sure you note down the fingerprint&lt;/strong&gt;, it will be requested later in the install process.
You can get the server key fingerprint as follows:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--list-keys&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--fingerprint&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt; 2 &lt;span class=&quot;s1&quot;&gt;'SERVER_KEY@EMAIL.TEST'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Copy the public and private keys to the passbolt config location:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export-secret-keys&lt;/span&gt; SERVER_KEY@EMAIL.TEST &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /var/www/passbolt/config/gpg/serverkey_private.asc
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export&lt;/span&gt; SERVER_KEY@EMAIL.TEST &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /var/www/passbolt/config/gpg/serverkey.asc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;We don‚Äôt want those keys to be readable by anyone, except the webserver.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;640 /var/www/passbolt/config/gpg/serverkey&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;initialize-the-gpg-keyring&quot;&gt;9. Initialize the gpg keyring&lt;/h3&gt;
    &lt;p&gt;In order for passbolt authentication to work your server key needs to be in the keyring used by the web server.
It is likely that there is none, so you can create one by interacting with gpg with the web server user&lt;/p&gt;

    &lt;p&gt;In debian 9, the home directory of the www-data user is /var/www. We need to give ownership of this folder to www-data, since it is not there by default.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chown &lt;/span&gt;www-data:www-data /var/www
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Now we create the keyring for the webserver:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gpg --list-keys&quot;&lt;/span&gt; www-data
gpg: directory &lt;span class=&quot;s1&quot;&gt;'/var/www/.gnupg'&lt;/span&gt; created
gpg: keybox &lt;span class=&quot;s1&quot;&gt;'/var/www/.gnupg/pubring.kbx'&lt;/span&gt; created
gpg: /var/www/.gnupg/trustdb.gpg: trustdb created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;set-passbolt-file-permissions&quot;&gt;9. Set passbolt file permissions&lt;/h3&gt;
    &lt;p&gt;We need to set the right permissions on the passbolt files. It should belong to the same owner as the webserver.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt;  www-data:www-data /var/www/passbolt
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/www/passbolt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;Important:&lt;/strong&gt; For the following steps, we‚Äôll also need to use the same user as the one running the webserver. In our case (apache), it is www-data.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;install-the-dependencies&quot;&gt;10. Install the dependencies&lt;/h3&gt;

    &lt;p&gt;The project dependencies such as the plugin to manage the images, emails, etc. are not included anymore
in the code on the official repository. Fret not, composer will manage this for us.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;create-a-passbolt-configuration-file&quot;&gt;11. Create a passbolt configuration file&lt;/h3&gt;

    &lt;p&gt;Everything is located in one configuration file called
&lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt;.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;config/passbolt.default.php config/passbolt.php
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano config/passbolt.php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;You will need to set at least the following:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;Application full base url&lt;/li&gt;
      &lt;li&gt;Database configuration&lt;/li&gt;
      &lt;li&gt;Server OpenPGP key fingerprint (you noted it down before)&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;Ignore the email configuration for now. We will take care of it later.&lt;/p&gt;

    &lt;p&gt;For now, we will also deactivate the force_ssl parameter for the sake of having a functional passbolt
quickly. We‚Äôll activate ssl later.&lt;/p&gt;

    &lt;p&gt;The sections of your configuration file should look similar to this:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;return [
    'App' =&amp;gt; [
        'fullBaseUrl' =&amp;gt; 'http://passbolt.dev',
    ],

    // Database configuration.
    'Datasources' =&amp;gt; [
        'default' =&amp;gt; [
            'host' =&amp;gt; 'localhost',
            'username' =&amp;gt; 'passbolt',
            'password' =&amp;gt; 'your_password',
            'database' =&amp;gt; 'passbolt',
        ],
    ],
    'passbolt' =&amp;gt; [
        'ssl' =&amp;gt; [
            'force' =&amp;gt; false,
        ],
        'gpg' =&amp;gt; [ 
            // Main server key.
            'serverKey' =&amp;gt; [
                // Server private key fingerprint.
                'fingerprint' =&amp;gt; '1C765F5273EC9AF56300BC6F6C76DA6B9F23C8BB',
                //'public' =&amp;gt; CONFIG . 'gpg' . DS . 'serverkey.asc',
                //'private' =&amp;gt; CONFIG . 'gpg' . DS . 'serverkey_private.asc',
            ],
        ],
    ],
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;You can also set your configuration using environment variables.
Check &lt;code class=&quot;highlighter-rouge&quot;&gt;config/default.php&lt;/code&gt; to get the names of the environment variables.&lt;/p&gt;

    &lt;h3 id=&quot;run-the-install-script&quot;&gt;12. Run the install script&lt;/h3&gt;

    &lt;p&gt;Let‚Äôs install passbolt tables and data in the database.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake passbolt &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;The install script will ask you to create an admin user. Enter your first name, last name and email. In return, the script will
provide you with an activation link that you will user later to activate and configure your user. You can go to this url now or later, but we
recommend that you configure SSL before.&lt;/p&gt;

    &lt;p&gt;Optionally you can also run the health check to see if everything is fine.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake passbolt healthcheck
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;You should see a majority of green ok. However, some SSL related alerts should still appear.&lt;/p&gt;

    &lt;p&gt;At this stage, passbolt is running as it should, but https is still missing. It is strongly recommended
that you configure https before using passbolt.&lt;/p&gt;

    &lt;h2 id=&quot;going-further&quot;&gt;Going further&lt;/h2&gt;

    &lt;h3 id=&quot;setup-the-emails&quot;&gt;1. Setup the emails&lt;/h3&gt;

    &lt;p&gt;For passbolt to be able to send emails, you must first configure properly the ‚ÄúEmailTransport‚Äù and ‚ÄúEmail‚Äù section in the 
&lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt; file to match your provider smtp details.&lt;/p&gt;

    &lt;p&gt;To send a test email and debug your smtp settings, you can use the following command:&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake passbolt send_test_email
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;When an email is sent, it is first placed in a queue that needs to be processed by the following shell.&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake EmailQueue.sender
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;In order to have your emails sent automatically, you can add a cron call to the script so the emails will be sent every minute. 
Add the following line to you crontab:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; su &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/passbolt/bin/cake EmailQueue.sender &amp;gt;&amp;gt; /var/log/passbolt.log&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;configure-https&quot;&gt;2. Configure https&lt;/h3&gt;
    &lt;p&gt;It is recommended to use https with passbolt (and, well, pretty much &lt;a href=&quot;everything&quot;&gt;https://www.eff.org/encrypt-the-web&lt;/a&gt;). 
To setup SSL we need a certificate. Here for the sake of brevity we will create a self-signed certificate. 
Of course you are free to use a &lt;a href=&quot;proper free certificate&quot;&gt;https://letsencrypt.org/getting-started/&lt;/a&gt; and tidy up the server supported cypher suites.&lt;/p&gt;

    &lt;p&gt;In the following steps, we‚Äôll generate a self signed certificate and configure nginx and passbolt to use https.&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;2.1 Generate the self signed certificate&lt;/strong&gt;&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;openssl req &lt;span class=&quot;nt&quot;&gt;-new&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-newkey&lt;/span&gt; rsa:4096 &lt;span class=&quot;nt&quot;&gt;-days&lt;/span&gt; 365 &lt;span class=&quot;nt&quot;&gt;-nodes&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-x509&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-subj&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/C=FR/ST=Denial/L=Springfield/O=Dis/CN=passbolt.dev&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-keyout&lt;/span&gt; /etc/ssl/certs/passbolt.key &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; /etc/ssl/certs/passbolt.crt
Generating a 4096 bit RSA private key
................++
...++
writing new private key to &lt;span class=&quot;s1&quot;&gt;'/etc/ssl/certs/passbolt.key'&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;-----&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;2.2 Make sure the certificate is readable by apache&lt;/strong&gt;&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chown &lt;/span&gt;root:www-data /etc/ssl/certs/passbolt.crt
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chown &lt;/span&gt;root:www-data /etc/ssl/certs/passbolt.key
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;640 /etc/ssl/certs/passbolt.crt
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;640 /etc/ssl/certs/passbolt.key
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;2.3 Enable SSL apache module and site&lt;/strong&gt;&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;a2enmod ssl
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;a2enmod headers
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;a2ensite default-ssl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;2.4 Configure virtual host&lt;/strong&gt;
Let‚Äôs add the rewrite and SSL rules and certificates.&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/apache2/sites-enabled/default-ssl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Your file should look like this:&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;IfModule mod_ssl.c&amp;gt;
    &amp;lt;VirtualHost _default_:443&amp;gt;
        ServerAdmin webmaster@localhost
        ServerName passbolt.dev

        DocumentRoot /var/www/passbolt

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        SSLEngine on
        SSLCertificateFile /etc/ssl/certs/passbolt.crt
        SSLCertificateKeyFile /etc/ssl/certs/passbolt.key
 
        &amp;lt;Directory /var/www/passbolt&amp;gt;
            Options FollowSymLinks
            AllowOverride All
            Require all granted
        &amp;lt;/Directory&amp;gt;
    
        &amp;lt;FilesMatch ‚Äú\.(php)$‚Äù&amp;gt;
            SSLOptions +StdEnvVars
        &amp;lt;/FilesMatch&amp;gt;

        BrowserMatch ‚ÄúMSIE [2‚Äì6]‚Äù \
          nokeepalive ssl-unclean-shutdown \
          downgrade-1.0 force-response-1.0
        BrowserMatch ‚ÄúMSIE [17‚Äì9]‚Äù ssl-unclean-shutdown

    &amp;lt;/VirtualHost&amp;gt;
&amp;lt;/IfModule&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;&lt;strong&gt;2.5 Restart Apache&lt;/strong&gt;&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;systemctl reload apache2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;&lt;strong&gt;2.6 Force SSL&lt;/strong&gt;
We‚Äôll need to change the passbolt configuration to make him use https instead of http,
and force the redirection to https:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /var/www/passbolt/config/passbolt.php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Set fullBaseUrl to https&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;'App' =&amp;gt; [
    'fullBaseUrl' =&amp;gt; 'https://passbolt.dev',
],
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Set ssl.force config parameter to true, instead of false. You can also remove the line as it will be set to true by default.&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;'ssl' =&amp;gt; [
    'force' =&amp;gt; true,
],
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;That‚Äôs it! Passbolt is now ready to be used with https.&lt;/p&gt;

    &lt;p&gt;If you have already done the setup of your user, you will notice that passbolt tells you that the plugin is not configured to work with this domain. This is normal since it was already configured to work with http, and not https.&lt;/p&gt;

    &lt;p&gt;That‚Äôs not an issue, you can fix this easily by clicking on ‚Äúrecover an existing account‚Äù&lt;/p&gt;

    &lt;h2 id=&quot;thats-it&quot;&gt;That‚Äôs it&lt;/h2&gt;
    &lt;p&gt;Do let us know if you run into problems following this tutorial on the &lt;a href=&quot;support forum&quot;&gt;https://community.passbolt.com/c/installation-issues&lt;/a&gt;.&lt;/p&gt;

    &lt;p&gt;Thank you for trying out Passbolt CE!&lt;/p&gt;

    &lt;h3 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h3&gt;

    &lt;p&gt;Here are some frequently asked questions related to passbolt installation:&lt;/p&gt;
    &lt;ul&gt;
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
            
                
    &lt;li&gt;
        &lt;a href=&quot;/faq/hosting/why-unsafe&quot;&gt;Why do I see an unsafe mode banner in the footer?&lt;/a&gt;
    &lt;/li&gt;
                
            
        
    
    
    
        
            
                
    &lt;li&gt;
        &lt;a href=&quot;/faq/hosting/why-email-not-sent&quot;&gt;Why are my emails not being sent?&lt;/a&gt;
    &lt;/li&gt;
                
            
        
    
    
    
    
    
        
    
    
    
        
    
    
    
    
    
    
    
    
    
    
    
    
    
    
&lt;/ul&gt;

    &lt;p&gt;Feel free to ask for help on the &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot;&gt;community forum&lt;/a&gt;.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
April
9th,
2018.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues when installing passbolt?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Ask the community!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr&quot;&gt;
    &lt;p&gt;Something is not accurate in this documentation? You can contribute by opening an issue or making pull requests!&lt;/p&gt;
    
    &lt;a href=&quot;https://www.github.com/passbolt/passbolt_help&quot; class=&quot;button &quot;&gt;View on github&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;&lt;strong&gt;Don't want the hassle of a manual installation?&lt;/strong&gt; Passbolt Pro comes with out of the box install scripts and a ready-to-use VM.&lt;/p&gt;
    &lt;a href=&quot;https://www.passbolt.com/pricing/pro&quot; class=&quot;button primary&quot;&gt;Get Passbolt Pro&lt;/a&gt;

&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Install passbolt API from source</title><link href="https://help.passbolt.com/hosting/install/ce/from-source.html" rel="alternate" type="text/html" title="Install passbolt API from source" /><published>2018-04-09T02:00:00+02:00</published><updated>2018-04-09T02:00:00+02:00</updated><id>https://help.passbolt.com/hosting/install/ce/from-source</id><content type="html" xml:base="https://help.passbolt.com/hosting/install/ce/from-source.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
    &lt;p&gt;This tutorial is distribution agnostic. It details the installation steps at a high level, without
taking into account the specifics related to each and every linux distribution.&lt;/p&gt;

    &lt;p&gt;For system specific step by step guide, you can refer to the following documentation:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;/hosting/install/ce/debian-9-stretch.html&quot;&gt;Debian 9 ‚ÄúStretch‚Äù step by step guide&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Centos 7 (coming soon)&lt;/li&gt;
      &lt;li&gt;Ubuntu 16.04.4 LTS (coming soon)&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;

    &lt;p&gt;Passbolt is reported to work on a large variety of operating system configurations. 
Therefore this help page is a generic guide that should work for most environments.&lt;/p&gt;

    &lt;p&gt;If you run into any issues with your particular configuration, 
&lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot;&gt;please check the forum&lt;/a&gt;. 
Maybe someone else has had your issue. If not, make a post and the community will try to help you.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Any Unix-like major distribution (Debian, Centos, Ubuntu, *BSD)&lt;/li&gt;
      &lt;li&gt;A webserver (Apache or Nginx)&lt;/li&gt;
      &lt;li&gt;A TLS server certificate for HTTPS&lt;/li&gt;
      &lt;li&gt;PHP &amp;gt;= 7.0.0&lt;/li&gt;
      &lt;li&gt;Mysql &amp;gt;= 5.5.59&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://getcomposer.org/download/&quot;&gt;Composer&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://gnupg.org/&quot;&gt;GnuPG&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;The following PHP extensions (that may or may not come by default):&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://php.net/manual/en/gnupg.installation.php&quot;&gt;PHP-GNUPG&lt;/a&gt;: for key verification and authentication.&lt;/li&gt;
      &lt;li&gt;Cakephp default requirements: Intl, mbstring, simplexml&lt;/li&gt;
      &lt;li&gt;Image manipulation: gd or imagick&lt;/li&gt;
      &lt;li&gt;Database: Mysqlnd, pdo, pdo_mysql&lt;/li&gt;
      &lt;li&gt;Some general default: xsl, phar, posix, xml, zlib, ctype, curl, json.&lt;/li&gt;
      &lt;li&gt;&amp;amp; more depending on your configuration (for example if you want to use memcache for sessions).&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;installation-steps&quot;&gt;Installation steps&lt;/h2&gt;

    &lt;h3 id=&quot;create-a-web-server-matching-the-system-requirements&quot;&gt;1. Create a web server matching the system requirements.&lt;/h3&gt;

    &lt;p&gt;Spin up a new fresh server with your favorite distribution, install a database server
and a webserver with a TLS certificate. If you are using apache as web server make sure you 
have mod_rewrite module enabled.&lt;/p&gt;

    &lt;div class=&quot;message warning&quot;&gt;
    &lt;p&gt;
        We highly recommend that you install https on your server. You can get a free SSL certificate with the let‚Äôs encrypt initiative.
    &lt;/p&gt;
    
    &lt;a href=&quot;https://letsencrypt.org/&quot; class=&quot;button&quot;&gt;let's encrypt!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;h3 id=&quot;create-an-empty-database&quot;&gt;2. Create an empty database&lt;/h3&gt;

    &lt;p&gt;Connect to your mysql server and create new database. Make sure it is in the utf8mb4 char set to
support non latin characters and emojis. üëè&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user] &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;password]
mysql&amp;gt; CREATE DATABASE passbolt CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
mysql&amp;gt; &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;clone-the-repository&quot;&gt;3. Clone the repository&lt;/h3&gt;

    &lt;p&gt;Cloning the code using git will allow you to keep the source under version control and facilitate
subsequent updates.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://github.com/passbolt/passbolt_api.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;generate-an-openpgp-key&quot;&gt;4. Generate an OpenPGP key&lt;/h3&gt;

    &lt;p&gt;Passbolt API uses an OpenPGP key for the server in order to authenticate and sign the outgoing JSON requests.
For improved compatibility we recommend that you use the same GnuPG version for generating the keys and for the 
php module.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--gen-key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;After creating the key make sure you note down the fingerprint, it will be requested later in the install process.
You can get the server key fingerprint as follow:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--list-keys&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--fingerprint&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B&lt;/span&gt; 2 &lt;span class=&quot;s1&quot;&gt;'SERVER_KEY@EMAIL.TEST'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Copy the public and private keys to the passbolt config location:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export-secret-keys&lt;/span&gt; SERVER_KEY@EMAIL.TEST &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /var/www/passbolt_api/config/gpg/serverkey_private.asc
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export&lt;/span&gt; SERVER_KEY@EMAIL.TEST &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /var/www/passbolt_api/config/gpg/serverkey.asc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;initialize-the-gpg-keyring&quot;&gt;5. Initialize the gpg keyring&lt;/h3&gt;

    &lt;p&gt;In order for passbolt authentication to work your server key needs to be in the keyring used by the web server.
It is likely that there is none, so you can create one by interacting with gpg with the web server user&lt;/p&gt;

    &lt;p&gt;The webserver name depends on your distribution and web server technology of choice, for example Apache user
is called &lt;code class=&quot;highlighter-rouge&quot;&gt;www-data&lt;/code&gt; on Debian:&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gpg --list-keys&quot;&lt;/span&gt; www-data
pub   4096R/573EE67E 2015-10-26 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;expires: 2019-10-26]
      Key fingerprint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 2FC8 9458 33C5 1946 E937  F9FE D47B 0811 573E E67E
uid   Passbolt Server Test Key &amp;lt;no-reply@passbolt.com&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;install-the-dependencies&quot;&gt;6. Install the dependencies&lt;/h3&gt;

    &lt;p&gt;The project dependencies such as the plugin to manage the images, emails, etc. are not included anymore
in the code on the official repository. Fret not, composer will manage this for us.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt_api&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;create-a-passbolt-configuration-file&quot;&gt;7. Create a passbolt configuration file&lt;/h3&gt;

    &lt;p&gt;The name and values in the main configuration file have changed. Everything is now located in one file called
&lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt;. Do not copy your v1 configuration files, instead you need to create a new one:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;config/passbolt.default.php config/passbolt.php
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano config/passbolt.php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Even if the format has changed the information needed are pretty much the same than v1.
You will need to set at least the following:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;Application full base url&lt;/li&gt;
      &lt;li&gt;Database configuration&lt;/li&gt;
      &lt;li&gt;Email settings&lt;/li&gt;
      &lt;li&gt;Server OpenPGP key fingerprint.&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;You can also set your configuration using environment variables.
Check &lt;code class=&quot;highlighter-rouge&quot;&gt;config/default.php&lt;/code&gt; to get the names of the environment variables.&lt;/p&gt;

    &lt;h3 id=&quot;run-the-install-script&quot;&gt;8. Run the install script&lt;/h3&gt;

    &lt;p&gt;Make sure you run the installation script as the web server user:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;./bin/cake passbolt install&quot;&lt;/span&gt; www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Optionally you can also run the health check to see if everything is fine.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;./bin/cake passbolt healthcheck&quot;&lt;/span&gt; www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;setup-the-emails&quot;&gt;9. Setup the emails&lt;/h3&gt;

    &lt;p&gt;For passbolt to be able to send emails, you must first configure properly the ‚ÄúEmailTransport‚Äù section in the 
&lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt; file to match your provider smtp details.&lt;/p&gt;

    &lt;p&gt;Emails are placed in a queue that needs to be processed by the following shell.&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake EmailQueue.sender
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;You can add a cron call to the script so the emails will be sent every minute. 
Add the following line to you crontab:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /var/www/passbolt_api/bin/cake EmailQueue.sender &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /var/log/passbolt.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;And you are done!&lt;/p&gt;

    &lt;h3 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h3&gt;

    &lt;p&gt;Here are some frequently asked questions related to passbolt installation:&lt;/p&gt;
    &lt;ul&gt;
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
        
            
                
    &lt;li&gt;
        &lt;a href=&quot;/faq/hosting/why-unsafe&quot;&gt;Why do I see an unsafe mode banner in the footer?&lt;/a&gt;
    &lt;/li&gt;
                
            
        
    
    
    
        
            
                
    &lt;li&gt;
        &lt;a href=&quot;/faq/hosting/why-email-not-sent&quot;&gt;Why are my emails not being sent?&lt;/a&gt;
    &lt;/li&gt;
                
            
        
    
    
    
    
    
        
    
    
    
        
    
    
    
    
    
    
    
    
    
    
    
    
    
    
&lt;/ul&gt;

    &lt;p&gt;Feel free to ask for help on the &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot;&gt;community forum&lt;/a&gt;.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
April
9th,
2018.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues when installing passbolt?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Ask the community!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr&quot;&gt;
    &lt;p&gt;Something is not accurate in this documentation? You can contribute by opening an issue or making pull requests!&lt;/p&gt;
    
    &lt;a href=&quot;https://www.github.com/passbolt/passbolt_help&quot; class=&quot;button &quot;&gt;View on github&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;&lt;strong&gt;Don't want the hassle of a manual installation?&lt;/strong&gt; Passbolt Pro comes with out of the box install scripts and a ready-to-use VM.&lt;/p&gt;
    &lt;a href=&quot;https://www.passbolt.com/pricing/pro&quot; class=&quot;button primary&quot;&gt;Get Passbolt Pro&lt;/a&gt;

&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Docker passbolt installation</title><link href="https://help.passbolt.com/hosting/install/ce/docker.html" rel="alternate" type="text/html" title="Docker passbolt installation" /><published>2018-04-02T02:00:00+02:00</published><updated>2018-04-02T02:00:00+02:00</updated><id>https://help.passbolt.com/hosting/install/ce/docker</id><content type="html" xml:base="https://help.passbolt.com/hosting/install/ce/docker.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;

    &lt;ul&gt;
      &lt;li&gt;Docker CE&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;optional-system-requirements&quot;&gt;Optional system requirements&lt;/h2&gt;

    &lt;ul&gt;
      &lt;li&gt;MySQL &amp;gt;= 5.0 if you plan not to host mysql on a docker container.&lt;/li&gt;
      &lt;li&gt;docker-compose if you plan to use a docker-compose.yml file to run passbolt container.&lt;/li&gt;
      &lt;li&gt;rng-tools/haveged for faster filling of container entropy pool. These tools come handy in cases where GnuPG complains about no entropy is available to perform some operation (generate keys, encrypt, sign‚Ä¶) inside the docker container. &lt;a href=&quot;https://security.stackexchange.com/questions/39992/is-it-safe-to-use-rng-tools-on-a-virtual-machine&quot;&gt;Important considerations&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;getting-passbolt-container&quot;&gt;Getting passbolt container&lt;/h2&gt;

    &lt;p&gt;Passbolt containers follow the following tagging:&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;version_number&amp;gt;-&amp;lt;build_number&amp;gt;-debian
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Nobody is perfect so we also provide a  &lt;em&gt;latest&lt;/em&gt; tag for Passbolt containers. However, it is recommended that users pull the tags pointing to specific passbolt versions.&lt;/p&gt;

    &lt;p&gt;Get passbolt  2.0.0 docker container:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker pull passbolt/passbolt:2.0.0-debian
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h2 id=&quot;using-passbolt-container&quot;&gt;Using passbolt container&lt;/h2&gt;

    &lt;p&gt;Passbolt requires a database backend to store the information. In this section we will be using a MySQL database packaged as a docker container.&lt;/p&gt;

    &lt;h3 id=&quot;manually-run-passbolt-container-and-mysql-container&quot;&gt;Manually run passbolt container and mysql container&lt;/h3&gt;

    &lt;p&gt;It is recommended to create a user defined network to ease the container name resolution. Using a user defined network will provide a method to access containers using their names instead ip addresses:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker network create passbolt_network
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;First run the mysql container:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; mysql &lt;span class=&quot;nt&quot;&gt;--net&lt;/span&gt; passbolt_network &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;root_password&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;MYSQL_DATABASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_database&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;MYSQL_USER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_user&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;MYSQL_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_password&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Now we can run the passbolt container:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; passbolt &lt;span class=&quot;nt&quot;&gt;--net&lt;/span&gt; passbolt_network &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_password&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_USERNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_user&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_DATABASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_database&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;APP_FULL_BASE_URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;https://mydomain.com &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             passbolt/passbolt:2.0.0-debian
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Note: strings between ‚Äò&amp;lt;‚Äô and ‚Äò&amp;gt;‚Äô are variables that the users should fill with their data.&lt;/p&gt;

    &lt;h3 id=&quot;manually-creating-first-admin-user&quot;&gt;Manually creating first admin user&lt;/h3&gt;

    &lt;p&gt;Once the passbolt container is up and running use this command to generate the first admin user:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;passbolt su &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/passbolt/bin/cake &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                passbolt register_user &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -u &amp;lt;your@email.com&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -f &amp;lt;yourname&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -l &amp;lt;surname&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -r admin&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/sh www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;It will output a link similar to the below one that can be pasted on the browser to finalize user registration:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://mydomain.com/setup/install/1eafab88-a17d-4ad8-97af-77a97f5ff552/f097be64-3703-41e2-8ea2-d59cbe1c15bc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;using-docker-compose&quot;&gt;Using docker-compose&lt;/h3&gt;

    &lt;p&gt;From the docker-compose official docs: ‚ÄòCompose is a tool for defining and running multi-container Docker applications‚Äô&lt;/p&gt;

    &lt;p&gt;Passbolt provides a &lt;a href=&quot;https://github.com/passbolt/passbolt_docker/blob/master/docker-compose.yml&quot;&gt;docker-compose.yaml&lt;/a&gt; file. That users can download and use with docker-compose.
The easiest way to use passbolt provided docker-compose.yaml is to:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://github.com/passbolt/passbolt_docker
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;your_subscription_license_file passbolt_docker/license
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;passbolt_docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;At this point some users might want to customize passbolt environment variables and change the fullBaseUrl for instance. Environment variables are defined in the following files:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;env/mysql.env&lt;/li&gt;
      &lt;li&gt;env/passbolt.env&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;Once the files fit your needs it is time to:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker-compose &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; docker-compose.yaml up
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;create-first-admin-user-using-docker-compose&quot;&gt;Create first admin user using docker-compose&lt;/h3&gt;

    &lt;p&gt;If you run passbolt using &lt;a href=&quot;https://github.com/passbolt/passbolt_docker/blob/master/docker-compose.yml&quot;&gt;docker-compose.yaml&lt;/a&gt; provided by passbolt:&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker-compose &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;passbolt su &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/var/www/passbolt/bin/cake &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                passbolt register_user &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -u &amp;lt;your@email.com&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -f &amp;lt;yourname&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -l &amp;lt;surname&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                                -r admin&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/sh www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h2 id=&quot;persisting-data-in-passbolt-container&quot;&gt;Persisting data in passbolt container&lt;/h2&gt;

    &lt;p&gt;There are several locations that might be interesting for the users to persist data between container restarts:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;Images directory: /var/www/passbolt/webroot/img&lt;/li&gt;
      &lt;li&gt;Gnupg serverkeys directory: /var/www/passbolt/config/gpg&lt;/li&gt;
      &lt;li&gt;SSL certificate files: /etc/ssl/certs/certiticate.crt /etc/ssl/certs/certificate.key&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;This files and directories can be persisted in the docker volume using &lt;a href=&quot;https://docs.docker.com/storage/volumes/&quot;&gt;docker volumes&lt;/a&gt; or using &lt;a href=&quot;https://docs.docker.com/storage/bind-mounts/#start-a-container-with-a-bind-mount&quot;&gt;bind mounts&lt;/a&gt;&lt;/p&gt;

    &lt;h3 id=&quot;examples&quot;&gt;Examples&lt;/h3&gt;

    &lt;p&gt;An example for persisting the images directory could be to create a docker volume:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker volume create passbolt_images
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;And run passbolt container with the previously created volume:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; passbolt &lt;span class=&quot;nt&quot;&gt;--net&lt;/span&gt; passbolt_network &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--mount&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;passbolt_images,&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nv&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/www/passbolt/webroot/img &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_password&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_USERNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_user&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_DATABASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_database&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;APP_FULL_BASE_URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;https://mydomain.com &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             passbolt/passbolt:2.0.0-debian
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Bind volumes are usually useful when, for instance, the SSL certificates or GnuPG keys have been already created in the host machine:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; passbolt &lt;span class=&quot;nt&quot;&gt;--net&lt;/span&gt; passbolt_network &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--mount&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt;,&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
               &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;host_path_to_gnupg_keys_dir&amp;gt;,&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
               &lt;span class=&quot;nv&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/www/passbolt/config/gpg &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_password&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_USERNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_user&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DATASOURCES_DEFAULT_DATABASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;mysql_database&amp;gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;APP_FULL_BASE_URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;https://mydomain.com &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             passbolt/passbolt:2.0.0-debian
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;An example of the above using docker-compose can be found &lt;a href=&quot;https://github.com/passbolt/passbolt_docker/blob/master/docker-compose.yml&quot;&gt;here&lt;/a&gt; where bind mounts and volumes are used.&lt;/p&gt;

    &lt;p&gt;NOTE: If you dont provide any GnuPG severkey or SSL certificate passbolt container will create a self signed SSL certificate and a GnuPG server key pair.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
April
2nd,
2018.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;tldr&quot;&gt;
    &lt;h4 class=&quot;visuallyhidden&quot;&gt;Available on docker hub&lt;/h4&gt;
    &lt;p&gt;
        &lt;a href=&quot;https://hub.docker.com/r/passbolt/passbolt/&quot; target=&quot;_blank&quot; rel=&quot;noopener nofollow&quot;&gt;
            &lt;img alt=&quot;Docker Logo&quot; src=&quot;/assets/img/third_party/docker_small_h.png&quot; style=&quot;&quot; /&gt;
        &lt;/a&gt;
    &lt;/p&gt;
    &lt;a href=&quot;https://hub.docker.com/r/passbolt/passbolt/&quot; class=&quot;primary button&quot;&gt;
        Get passbolt container!
    &lt;/a&gt;
&lt;/div&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues when installing passbolt?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Ask the community!&lt;/a&gt;
    
&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Upgrade to passbolt API version 2</title><link href="https://help.passbolt.com/hosting/upgrade/ce/upgrade.html" rel="alternate" type="text/html" title="Upgrade to passbolt API version 2" /><published>2018-03-14T01:00:00+01:00</published><updated>2018-03-14T01:00:00+01:00</updated><id>https://help.passbolt.com/hosting/upgrade/ce/upgrade</id><content type="html" xml:base="https://help.passbolt.com/hosting/upgrade/ce/upgrade.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;

    &lt;p&gt;Passbolt is reported to work on a large variety of operating system configurations. 
Therefore this help page is a generic guide that should work for most environments.&lt;/p&gt;

    &lt;p&gt;If you run into any issues with your particular configuration, 
&lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot;&gt;please check the forum&lt;/a&gt;. 
Maybe someone else has had your issue. If not, make a post and the community will try to help you.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Any Unix-like major distribution (Debian, Centos, Ubuntu, *BSD)&lt;/li&gt;
      &lt;li&gt;A webserver (Apache or Nginx)&lt;/li&gt;
      &lt;li&gt;A TLS server certificate for HTTPS&lt;/li&gt;
      &lt;li&gt;PHP &amp;gt;= 7.0.0&lt;/li&gt;
      &lt;li&gt;Mysql &amp;gt;= 5.5.59&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://getcomposer.org/download/&quot;&gt;Composer&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://gnupg.org/&quot;&gt;GnuPG&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;The following PHP extensions (that may or may not come by default):&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://php.net/manual/en/gnupg.installation.php&quot;&gt;PHP-GNUPG&lt;/a&gt;: for key verification and authentication.&lt;/li&gt;
      &lt;li&gt;Cakephp default requirements: Intl, mbstring, simplexml&lt;/li&gt;
      &lt;li&gt;Image manipulation: gd or imagick&lt;/li&gt;
      &lt;li&gt;Database: Mysqlnd, pdo, pdo_mysql&lt;/li&gt;
      &lt;li&gt;Some general default: xsl, phar, posix, xml, zlib, ctype, curl, json.&lt;/li&gt;
      &lt;li&gt;&amp;amp; more depending on your configuration (for example if you want to use memcache for sessions).&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;upgrade-with-a-new-server&quot;&gt;Upgrade with a new server&lt;/h2&gt;

    &lt;p&gt;Considering that the system requirements haved it may make sense for you to upgrade on a fresh server.
If that is what you want to do, you can perform a &lt;a href=&quot;/hosting/backup-v1&quot;&gt;backup&lt;/a&gt; of your database,
gpg key and avatar first. Then copy the v1 files to your new server, and proceed like you were upgrading on the 
same server, with the process described bellow.&lt;/p&gt;

    &lt;h2 id=&quot;upgrade-from-the-same-server&quot;&gt;Upgrade from the same server&lt;/h2&gt;

    &lt;p&gt;In the following examples we assume you are running passbolt v1 using apache in the &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/www/passbolt&lt;/code&gt;
directory. You will need to replace these values with your local environment settings.&lt;/p&gt;

    &lt;h3 id=&quot;make-sure-you-have-the-latest-v1x-version&quot;&gt;1. Make sure you have the latest v1.x version&lt;/h3&gt;

    &lt;p&gt;If you do not have the latest version, please follow the regular &lt;a href=&quot;/hosting/update&quot;&gt;v1 udpate process&lt;/a&gt;.
We‚Äôll also assume you have a web server that match the system requirements.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;app/Config/version.php  | &lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;number
&lt;span class=&quot;s1&quot;&gt;'number'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1.6.9'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;take-your-site-offline&quot;&gt;2. Take your site offline&lt;/h3&gt;

    &lt;p&gt;There are multiple ways of doing that, the simplest is sending a notice by email to your users
and stopping your webserver. The better approach would be to create a temporary html file and 
redirect your passbolt user there, for example:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;wip
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;wip/index.html
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Maintenance in progress&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;Maintenance in progress&amp;lt;/h1&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; wip/index.html
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/apache2/sites-enabled/001-default.conf

&amp;lt;IfModule mod_ssl.c&amp;gt;
        &amp;lt;VirtualHost _default_:443&amp;gt;
                ServerAdmin webmaster@localhost
                ServerName www.passbolt.test
                DocumentRoot /var/www/wip

                ErrorLog &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;APACHE_LOG_DIR&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/error.log
                CustomLog &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;APACHE_LOG_DIR&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/access.log combined

                SSLEngine on
                SSLCertificateFile /etc/apache2/ssl/passbolt.crt
                SSLCertificateKeyFile /etc/apache2/ssl/passbolt.key

        &amp;lt;Directory /var/www/wip&amp;gt;
            Options FollowSymLinks
            AllowOverride All
            Require all granted
        &amp;lt;/Directory&amp;gt;

        &amp;lt;/VirtualHost&amp;gt;
&amp;lt;/IfModule&amp;gt;
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;service apache2 restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;make-a-database-backup&quot;&gt;3. Make a database backup&lt;/h3&gt;

    &lt;p&gt;Make sure you have a database backup so that you can revert if something goes wrong.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysqldump &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user] &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pass] db &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /path/to/passbolt-backup.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;create-a-new-directory-and-copy-the-v2&quot;&gt;4. Create a new directory and copy the v2.&lt;/h3&gt;

    &lt;div class=&quot;message warning&quot;&gt;
    &lt;p&gt;
        Note: We will use the development branch for deployment for release candidates. 
When v2 is released the last line can be omitted.

    &lt;/p&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;passbolt passbolt_v1
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone git@github.com:passbolt/passbolt_api.git
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;passbolt_api passbolt_v2 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;passbolt_v2
/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git fetch &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; git checkout develop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;install-the-dependencies&quot;&gt;5. Install the dependencies&lt;/h3&gt;

    &lt;p&gt;The project dependencies such as the plugin to manage the images, emails, etc. are not included anymore
in the code on the official repository. Fret not, composer will manage this for us.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;copy-your-v1-server-gpg-key-and-avatars&quot;&gt;6. Copy your v1 server gpg key and avatars&lt;/h3&gt;

    &lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;config&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;webroot&lt;/code&gt; directory has been moved to the root directory. The &lt;code class=&quot;highlighter-rouge&quot;&gt;ProfileAvatar&lt;/code&gt; directory have been
renamed to &lt;code class=&quot;highlighter-rouge&quot;&gt;Avatar&lt;/code&gt;. You will need to copy your old files in these new respective places, for example:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; ../passbolt_v1/app/Config/gpg/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; config/gpg/.
/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; ../passbolt_v1/app/webroot/img/public/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; webroot/img/public/.
/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;webroot/img/public/images/ProfileAvatar webroot/img/public/images/Avatar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;create-a-passbolt-configuration-file&quot;&gt;7. Create a passbolt configuration file&lt;/h3&gt;

    &lt;p&gt;The name and values in the main configuration file have changed. Everything is now located in one file called
&lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt;. Do not copy your v1 configuration files, instead you need to create a new one:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;config/passbolt.default.php config/passbolt.php
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano config/passbolt.php
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Even if the format has changed the information needed are pretty much the same than v1.
You will need to set at least the following:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;Application full base url&lt;/li&gt;
      &lt;li&gt;Database configuration&lt;/li&gt;
      &lt;li&gt;Email settings&lt;/li&gt;
      &lt;li&gt;Server OpenPGP key fingerprint.&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;You can also set your configuration using environment variables.
Check &lt;code class=&quot;highlighter-rouge&quot;&gt;config/default.php&lt;/code&gt; to get the names of the environment variables.&lt;/p&gt;

    &lt;h3 id=&quot;run-the-migration-script&quot;&gt;8. Run the migration script&lt;/h3&gt;

    &lt;p&gt;The structure of the database changed in version 2. Make sure you run the following script to migrate your 
data to the new format.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt_v2&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./bin/cake passbolt migrate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Optionally you can also run the health check to see if everything is fine.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;./bin/cake passbolt healthcheck&quot;&lt;/span&gt; www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;get-your-service-back-online&quot;&gt;9. Get your service back online&lt;/h3&gt;

    &lt;p&gt;Edit your apache or nginx to point to the new directory and bring your service back online.&lt;/p&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/apache2/sites-enabled/001-default.conf
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;service apache2 restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
March
14th,
2018.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues when installing passbolt?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Ask the community!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;tldr&quot;&gt;
    &lt;h4 class=&quot;visuallyhidden&quot;&gt;Available on docker hub&lt;/h4&gt;
    &lt;p&gt;
        &lt;a href=&quot;https://hub.docker.com/r/passbolt/passbolt/&quot; target=&quot;_blank&quot; rel=&quot;noopener nofollow&quot;&gt;
            &lt;img alt=&quot;Docker Logo&quot; src=&quot;/assets/img/third_party/docker_small_h.png&quot; style=&quot;&quot; /&gt;
        &lt;/a&gt;
    &lt;/p&gt;
    &lt;a href=&quot;https://hub.docker.com/r/passbolt/passbolt/&quot; class=&quot;primary button&quot;&gt;
        Get passbolt container!
    &lt;/a&gt;
&lt;/div&gt;

    &lt;div class=&quot;message tldr&quot;&gt;
    &lt;p&gt;Something is not accurate in this documentation? You can contribute by opening an issue or making pull requests!&lt;/p&gt;
    
    &lt;a href=&quot;https://www.github.com/passbolt/passbolt_help&quot; class=&quot;button &quot;&gt;View on github&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;We highly recommend that you install https on your server. You can get a free SSL certificate with the let's encrypt initiative.&lt;/p&gt;
    
    &lt;a href=&quot;https://letsencrypt.org/&quot; class=&quot;button &quot;&gt;let's encrypt!&lt;/a&gt;
    
&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Backing up a passbolt installation (v2)</title><link href="https://help.passbolt.com/hosting/backup.html" rel="alternate" type="text/html" title="Backing up a passbolt installation (v2)" /><published>2018-03-14T01:00:00+01:00</published><updated>2018-03-14T01:00:00+01:00</updated><id>https://help.passbolt.com/hosting/backup</id><content type="html" xml:base="https://help.passbolt.com/hosting/backup.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;p&gt;Making regular backups is a critical aspect of managing a passbolt instance. Because passbolt stores important 
information, it is equally important to have a backup strategy in place.&lt;/p&gt;

    &lt;p&gt;As a passbolt administrator it is your responsibility to define how often and when to perform backups. 
Please automate and customize this process to match the needs and policies of your organization.&lt;/p&gt;

    &lt;p&gt;Here are some best practices to keep in mind:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Ensure that the backups are taken at intervals that match your usage&lt;/li&gt;
      &lt;li&gt;Take these backups off-site, or to another environment than the live one&lt;/li&gt;
      &lt;li&gt;Make sure the backup is encrypted and stored in a safe location&lt;/li&gt;
      &lt;li&gt;Practice drills and test the backups to make sure they work&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;what-to-backup&quot;&gt;What to backup?&lt;/h2&gt;

    &lt;p&gt;There are several elements you need to backup:&lt;/p&gt;

    &lt;h4 id=&quot;the-database&quot;&gt;1. The database&lt;/h4&gt;

    &lt;p&gt;This can be easily scripted using &lt;a href=&quot;https://mariadb.com/kb/en/mariadb/mysqldump/&quot;&gt;mysqldump&lt;/a&gt; for example:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysqldump &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user] &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pass] db &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /path/to/backup.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;the-avatars&quot;&gt;2. The avatars&lt;/h4&gt;

    &lt;p&gt;The images in &lt;code class=&quot;highlighter-rouge&quot;&gt;webroot/img/public&lt;/code&gt; also need to be backed up, otherwise profile images will be lost.&lt;/p&gt;

    &lt;h4 id=&quot;the-server-public-and-private-keys&quot;&gt;3. The server public and private keys&lt;/h4&gt;

    &lt;p&gt;You can copy the server OpenPGP key in &lt;code class=&quot;highlighter-rouge&quot;&gt;config/gpg&lt;/code&gt; or export it directly from GnuPG.&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gpg &lt;span class=&quot;nt&quot;&gt;--export-secret-key&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;passbolt server&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; private.key
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;the-application-configuration&quot;&gt;4. The application configuration&lt;/h4&gt;

    &lt;p&gt;The file located in &lt;code class=&quot;highlighter-rouge&quot;&gt;config/passbolt.php&lt;/code&gt;. It is optional, but it can save you some time if you need to rebuild a new instance.&lt;/p&gt;

    &lt;h2 id=&quot;what-about-the-secret-keys-of-my-collaborators&quot;&gt;What about the secret keys of my collaborators?&lt;/h2&gt;

    &lt;p&gt;Every user private key should also be backed up, this is however not something we/you can automate easily for now (passbolt might provide a functionality for this in the future). We believe it is best if this is the responsibility of the end user. There is a dedicated step during the extension setup to that purpose.&lt;/p&gt;

    &lt;p&gt;As an administrator you should stress the importance of backing up secret keys to other users. For example this warning could be part of the initial information message sent to introduce passbolt to new users.&lt;/p&gt;

    &lt;p&gt;It is possible that having users back up their own keys may not be realistic or desirable in your case. In this case you can opt in for an alternative strategy such as setting up the account with/for them and taking a backup of the secret keys then. In the worst case scenario you could automate the process by installing a script on your users machine that would make that backup for you.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
March
14th,
2018.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Do you have a question about backups? Do you want to share your experience and best practices?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Get in touch!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr&quot;&gt;
    &lt;p&gt;Are you still using passbolt v1? Check out the previous version of this article.&lt;/p&gt;
    
    &lt;a href=&quot;/hosting/backup-v1&quot; class=&quot;button &quot;&gt;See previous version&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message &quot;&gt;
    &lt;p&gt;&lt;/p&gt;
    
&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="hosting" /><summary type="html"></summary></entry><entry><title type="html">Backing up a passbolt installation (v1)</title><link href="https://help.passbolt.com/hosting/backup-v1.html" rel="alternate" type="text/html" title="Backing up a passbolt installation (v1)" /><published>2017-06-15T02:00:00+02:00</published><updated>2017-06-15T02:00:00+02:00</updated><id>https://help.passbolt.com/hosting/backup-v1</id><content type="html" xml:base="https://help.passbolt.com/hosting/backup-v1.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;p&gt;Making regular backups is a critical aspect of managing a passbolt instance. Because passbolt stores important information, it is equally important to have a backup strategy in place.&lt;/p&gt;

    &lt;p&gt;As a passbolt administrator it is your responsibility to define how often and when to perform backups. Please automate and customize this process to match the needs and policies of your organization.&lt;/p&gt;

    &lt;p&gt;Here are some best practices to keep in mind:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Ensure that the backups are taken at intervals that match your usage&lt;/li&gt;
      &lt;li&gt;Take these backups off-site, or to another environment than the live one&lt;/li&gt;
      &lt;li&gt;Make sure the backup is encrypted and stored in a safe location&lt;/li&gt;
      &lt;li&gt;Practice drills and test the backups to make sure they work&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;what-to-backup&quot;&gt;What to backup?&lt;/h2&gt;

    &lt;p&gt;There are several elements you need to backup:&lt;/p&gt;

    &lt;h4 id=&quot;the-database&quot;&gt;1. The database&lt;/h4&gt;

    &lt;p&gt;This can be easily scripted using &lt;a href=&quot;https://mariadb.com/kb/en/mariadb/mysqldump/&quot;&gt;mysqldump&lt;/a&gt; for example:&lt;/p&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysqldump &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user] &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pass] db &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /path/to/backup.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;the-avatars&quot;&gt;2. The avatars&lt;/h4&gt;

    &lt;p&gt;The images in &lt;code class=&quot;highlighter-rouge&quot;&gt;app/webroot/img/public&lt;/code&gt; also need to be backed up, otherwise profile images will be lost.&lt;/p&gt;

    &lt;h4 id=&quot;the-server-public-and-private-keys&quot;&gt;3. The server public and private keys&lt;/h4&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gpg &lt;span class=&quot;nt&quot;&gt;--export-secret-key&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;passbolt user&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; private.key
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;the-application-configuration&quot;&gt;4. The application configuration&lt;/h4&gt;

    &lt;p&gt;The files located in &lt;code class=&quot;highlighter-rouge&quot;&gt;app/Config&lt;/code&gt; such as core.php, app.php, email.php, database.php. It is optional, but it can save you some time if you need to rebuild a new instance.&lt;/p&gt;

    &lt;h2 id=&quot;what-about-the-secret-keys-of-my-collaborators&quot;&gt;What about the secret keys of my collaborators?&lt;/h2&gt;

    &lt;p&gt;Every user private key should also be backed up, this is however not something we/you can automate easily for now (passbolt might provide a functionality for this in the future). We believe it is best if this is the responsibility of the end user. There is a dedicated step during the extension setup to that purpose.&lt;/p&gt;

    &lt;p&gt;As an administrator you should stress the importance of backing up secret keys to other users. For example this warning could be part of the initial information message sent to introduce passbolt to new users.&lt;/p&gt;

    &lt;p&gt;It is possible that having users back up their own keys may not be realistic or desirable in your case. In this case you can opt in for an alternative strategy such as setting up the account with/for them and taking a backup of the secret keys then. In the worst case scenario you could automate the process by installing a script on your users machine that would make that backup for you.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
June
15th,
2017.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr warning&quot;&gt;
    &lt;p&gt;This article is for passbolt v1, make sure you check the newest version of this article if you are using a more recent version.&lt;/p&gt;
    
    &lt;a href=&quot;/hosting/backup&quot; class=&quot;button &quot;&gt;See latest version&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Do you have a question about backups? Do you want to share your experience and best practices?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Get in touch!&lt;/a&gt;
    
&lt;/div&gt;

    &lt;div class=&quot;message &quot;&gt;
    &lt;p&gt;&lt;/p&gt;
    
&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="hosting" /><summary type="html"></summary></entry><entry><title type="html">Upgrade to Passbolt Pro</title><link href="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-to-pro.html" rel="alternate" type="text/html" title="Upgrade to Passbolt Pro" /><published>2017-04-09T02:00:00+02:00</published><updated>2017-04-09T02:00:00+02:00</updated><id>https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-to-pro</id><content type="html" xml:base="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-to-pro.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li&gt;Apache or Nginx&lt;/li&gt;
      &lt;li&gt;HTTPS&lt;/li&gt;
      &lt;li&gt;PHP &amp;gt;= 7.0.0&lt;/li&gt;
      &lt;li&gt;Mysql &amp;gt;= 5.5.59&lt;/li&gt;
      &lt;li&gt;Composer&lt;/li&gt;
      &lt;li&gt;GnuPG for PHP: for key verification and authentication.&lt;/li&gt;
      &lt;li&gt;PHP extensions (that may or may not come by default):
        &lt;ul&gt;
          &lt;li&gt;Cakephp default requirements: Intl, mbstring, simplexml&lt;/li&gt;
          &lt;li&gt;Image manipulation: gd or imagick&lt;/li&gt;
          &lt;li&gt;Database: Mysqlnd, pdo, pdo_mysql&lt;/li&gt;
          &lt;li&gt;Some general default: xsl, phar, posix, xml, zlib, ctype, curl, json.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&amp;amp; more depending on your configuration (for example if you want to use memcache for sessions).&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;upgrade-passbolt-ce-to-passbolt-pro&quot;&gt;Upgrade Passbolt CE to Passbolt Pro&lt;/h2&gt;

    &lt;p&gt;There are two ways you can upgrade your Passbolt Community Edition (CE) to Passbolt Pro.&lt;/p&gt;

    &lt;h3 id=&quot;upgrade-on-the-same-server&quot;&gt;1. Upgrade on the same server&lt;/h3&gt;
    &lt;p&gt;If the server running Passbolt CE matches the requirements listed above, you can upgrade to Passbolt Pro on the same server.
If it doesn‚Äôt match, you can also upgrade your distribution packages. The main missing dependency is usually PHP7. (In Debian, using dotdeb replacements work like a charm).&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;/hosting/upgrade/pro/upgrade-ce-v1-to-pro-same-server&quot;&gt;Upgrade CE v1.x to Pro on the same server&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;/hosting/upgrade/pro/upgrade-ce-v2-to-pro-same-server&quot;&gt;Upgrade CE v2.x to Pro on the same server&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h3 id=&quot;upgrade-on-a-new-server&quot;&gt;2. Upgrade on a new server&lt;/h3&gt;
    &lt;p&gt;If the server running Passbolt CE doesn‚Äôt and cannot match the requirements listed above, you will need a new server to upgrade to Passbolt Pro.&lt;/p&gt;

    &lt;p&gt;This documentation is coming soon.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
April
9th,
2017.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues with Passbolt Pro?&lt;/p&gt;
    &lt;a href=&quot;mailto:contact@passbolt.com&quot; class=&quot;button primary&quot;&gt;Contact Pro support&lt;/a&gt;
    &lt;p&gt;or &lt;a href=&quot;https://community.passbolt.com&quot;&gt;ask the community&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Upgrade from CE v2.x to Pro on same server</title><link href="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v2-to-pro-same-server.html" rel="alternate" type="text/html" title="Upgrade from CE v2.x to Pro on same server" /><published>2017-03-20T01:00:00+01:00</published><updated>2017-03-20T01:00:00+01:00</updated><id>https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v2-to-pro-same-server</id><content type="html" xml:base="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v2-to-pro-same-server.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;h2 id=&quot;coming-soon&quot;&gt;COMING SOON&lt;/h2&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
March
20th,
2017.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues with Passbolt Pro?&lt;/p&gt;
    &lt;a href=&quot;mailto:contact@passbolt.com&quot; class=&quot;button primary&quot;&gt;Contact Pro support&lt;/a&gt;
    &lt;p&gt;or &lt;a href=&quot;https://community.passbolt.com&quot;&gt;ask the community&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Upgrade from CE v1.x to Pro on same server</title><link href="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-same-server.html" rel="alternate" type="text/html" title="Upgrade from CE v1.x to Pro on same server" /><published>2017-03-20T01:00:00+01:00</published><updated>2017-03-20T01:00:00+01:00</updated><id>https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-same-server</id><content type="html" xml:base="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-same-server.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;p&gt;This tutorial covers the case where you want to upgrade your current instance of passbolt CE v1.x into Passbolt Pro on the same server.&lt;/p&gt;

    &lt;p&gt;If you want to use a new server, &lt;a href=&quot;/hosting/upgrade/pro/upgrade-ce-v1-to-pro-new-server&quot;&gt;follow this link&lt;/a&gt;.&lt;/p&gt;

    &lt;div class=&quot;message warning&quot;&gt;
    &lt;p&gt;
        &lt;strong&gt;Important:&lt;/strong&gt; Please take a full backup of your Passbolt CE before proceeding with the upgrade. Backup should include passbolt files as well as the database.
    &lt;/p&gt;
    
&lt;/div&gt;

    &lt;h2 id=&quot;system-requirements&quot;&gt;System requirements&lt;/h2&gt;
    &lt;p&gt;Passbolt is reported to work on a large variety of operating system configurations. 
Therefore this help page is a generic guide that should work for most environments.&lt;/p&gt;

    &lt;p&gt;If you run into any issues with your particular configuration, 
&lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot;&gt;please check the forum&lt;/a&gt;. 
Maybe someone else has had your issue. If not, make a post and the community will try to help you.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Any Unix-like major distribution (Debian, Centos, Ubuntu, *BSD)&lt;/li&gt;
      &lt;li&gt;A webserver (Apache or Nginx)&lt;/li&gt;
      &lt;li&gt;A TLS server certificate for HTTPS&lt;/li&gt;
      &lt;li&gt;PHP &amp;gt;= 7.0.0&lt;/li&gt;
      &lt;li&gt;Mysql &amp;gt;= 5.5.59&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://getcomposer.org/download/&quot;&gt;Composer&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://gnupg.org/&quot;&gt;GnuPG&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;The following PHP extensions (that may or may not come by default):&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://php.net/manual/en/gnupg.installation.php&quot;&gt;PHP-GNUPG&lt;/a&gt;: for key verification and authentication.&lt;/li&gt;
      &lt;li&gt;Cakephp default requirements: Intl, mbstring, simplexml&lt;/li&gt;
      &lt;li&gt;Image manipulation: gd or imagick&lt;/li&gt;
      &lt;li&gt;Database: Mysqlnd, pdo, pdo_mysql&lt;/li&gt;
      &lt;li&gt;Some general default: xsl, phar, posix, xml, zlib, ctype, curl, json.&lt;/li&gt;
      &lt;li&gt;&amp;amp; more depending on your configuration (for example if you want to use memcache for sessions).&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2 id=&quot;upgrade-to-passbolt-pro&quot;&gt;Upgrade to Passbolt Pro&lt;/h2&gt;
    &lt;p&gt;In the following examples we assume you are running passbolt CE v1 using apache in the &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/www/passbolt&lt;/code&gt;
directory. You will need to replace these values with your local environment settings.&lt;/p&gt;

    &lt;h3 id=&quot;make-sure-you-have-the-latest-v1x-version&quot;&gt;1. Make sure you have the latest v1.x version&lt;/h3&gt;

    &lt;p&gt;If you do not have the latest version, please follow the regular &lt;a href=&quot;/hosting/update&quot;&gt;v1 udpate process&lt;/a&gt;.
We‚Äôll also assume you have a web server that match the system requirements.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;app/Config/version.php  | &lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;number
&lt;span class=&quot;s1&quot;&gt;'number'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1.6.9'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;take-your-site-offline&quot;&gt;2. Take your site offline&lt;/h3&gt;

    &lt;p&gt;There are multiple ways of doing that, the simplest is sending a notice by email to your users
and stopping your webserver. The better approach would be to create a temporary html file and 
redirect your passbolt user there, for example:&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;wip
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;wip/index.html
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Maintenance in progress&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;Maintenance in progress&amp;lt;/h1&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; wip/index.html
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nano /etc/apache2/sites-enabled/001-default.conf

&amp;lt;IfModule mod_ssl.c&amp;gt;
        &amp;lt;VirtualHost _default_:443&amp;gt;
                ServerAdmin webmaster@localhost
                ServerName www.passbolt.test
                DocumentRoot /var/www/wip

                ErrorLog &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;APACHE_LOG_DIR&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/error.log
                CustomLog &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;APACHE_LOG_DIR&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/access.log combined

                SSLEngine on
                SSLCertificateFile /etc/apache2/ssl/passbolt.crt
                SSLCertificateKeyFile /etc/apache2/ssl/passbolt.key

        &amp;lt;Directory /var/www/wip&amp;gt;
            Options FollowSymLinks
            AllowOverride All
            Require all granted
        &amp;lt;/Directory&amp;gt;

        &amp;lt;/VirtualHost&amp;gt;
&amp;lt;/IfModule&amp;gt;
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;service apache2 restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;make-a-database-backup&quot;&gt;3. Make a database backup&lt;/h3&gt;

    &lt;p&gt;Make sure you have a database backup so that you can revert if something goes wrong.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysqldump &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user] &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pass] db &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /path/to/passbolt-backup.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;download-passbolt-pro&quot;&gt;4. Download Passbolt Pro&lt;/h3&gt;
    &lt;p&gt;Open a shell with the same user as your web server user. (usually, www-data for apache, nginx for nginx)&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;su &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Replace Passbolt CE by Passbolt Pro.&lt;/p&gt;

    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; ./passbolt ./passbolt_ce_v1
/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://bitbucket.org/passbolt_pro/passbolt_pro_api.git ./passbolt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;install-the-dependencies&quot;&gt;5. Install the dependencies&lt;/h3&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ./passbolt
/var/www/passbolt&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;copy-the-avatar-folder-from-ce-and-rename-it&quot;&gt;6. Copy the avatar folder from CE and rename it&lt;/h3&gt;
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/var/www/passbolt&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; ../passbolt_ce_v1/app/webroot/img/public/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; ./webroot/img/public/.
/var/www/passbolt&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; ./webroot/img/public/images/ProfileAvatar ./webroot/img/public/images/Avatar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h3 id=&quot;configure-passbolt-pro&quot;&gt;7. Configure Passbolt Pro&lt;/h3&gt;
    &lt;p&gt;To configure Passbolt Pro, the easiest way is to use the in-built configuration wizard.
Just point your browser to your passbolt url.&lt;/p&gt;

    &lt;p&gt;You will be greeted by a welcome screen. Click on the Configure with wizard option and follow the instructions.&lt;/p&gt;

    &lt;figure&gt;
    &lt;img src=&quot;/assets/img/help/2018/04/passbolt-welcome-page.png&quot; alt=&quot;passbolt welcome page before configuration&quot; style=&quot;max-width:586px;&quot; /&gt;
    &lt;span class=&quot;legend&quot;&gt;fig. passbolt welcome page before configuration&lt;/span&gt;
&lt;/figure&gt;

    &lt;div class=&quot;message warning&quot;&gt;
    &lt;p&gt;
        &lt;strong&gt;Note:&lt;/strong&gt; Enter the same configuration details as the the ones that were used for your Passbolt CE. 
    This includes your database, smtp details, as well as your server GPG key that you‚Äôll need to import (&lt;strong&gt;Do not generate a new one&lt;/strong&gt;).
    &lt;/p&gt;
    
&lt;/div&gt;

    &lt;figure&gt;
    &lt;img src=&quot;/assets/img/help/2018/04/wizard-key-import.png&quot; alt=&quot;Wizard - import key screen&quot; style=&quot;max-width:586px;&quot; /&gt;
    &lt;span class=&quot;legend&quot;&gt;fig. Wizard - import key screen&lt;/span&gt;
&lt;/figure&gt;

    &lt;h3 id=&quot;your-server-is-now-ready-to-run-passbolt&quot;&gt;8. Your server is now ready to run passbolt&lt;/h3&gt;

    &lt;p&gt;Once you have followed all the steps of the wizard, Passbolt Pro is ready to run. You will be redirected
automatically to the login page where you can log in.&lt;/p&gt;

    &lt;h3 id=&quot;final-step-modify-the-cron-job-to-send-emails&quot;&gt;9. Final step: modify the cron job to send emails&lt;/h3&gt;

    &lt;p&gt;Modify the cronjob entry you had added for passbolt CE v1 :&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* * * * * /var/www/passbolt/app/Console/cake EmailQueue.sender &amp;gt; /var/log/passbolt.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;into this one:&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* * * * * /var/www/passbolt/bin/cake EmailQueue.sender &amp;gt; /var/log/passbolt.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;h2 id=&quot;thats-it&quot;&gt;That‚Äôs it!&lt;/h2&gt;

    &lt;p&gt;At this stage, Passbolt Pro should be working perfectly.&lt;/p&gt;

    &lt;p&gt;Any issue? Do contact us on the &lt;a href=&quot;mailto:contact@passbolt.com&quot;&gt;Passbolt Pro support&lt;/a&gt; with the email provided during your purchase.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
March
20th,
2017.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues with Passbolt Pro?&lt;/p&gt;
    &lt;a href=&quot;mailto:contact@passbolt.com&quot; class=&quot;button primary&quot;&gt;Contact Pro support&lt;/a&gt;
    &lt;p&gt;or &lt;a href=&quot;https://community.passbolt.com&quot;&gt;ask the community&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Upgrade from CE v1.x to Pro on a new server</title><link href="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-new-server.html" rel="alternate" type="text/html" title="Upgrade from CE v1.x to Pro on a new server" /><published>2017-03-20T01:00:00+01:00</published><updated>2017-03-20T01:00:00+01:00</updated><id>https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-new-server</id><content type="html" xml:base="https://help.passbolt.com/hosting/upgrade/pro/upgrade-ce-v1-to-pro-new-server.html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col7&quot;&gt;

    &lt;p&gt;This tutorial will be available soon.&lt;/p&gt;

    &lt;div class=&quot;last-updated&quot;&gt;
      &lt;h3&gt;Last updated&lt;/h3&gt;
      &lt;p&gt;This article was last updated on 
March
20th,
2017.&lt;/p&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class=&quot;col4 last push1&quot;&gt;

    &lt;div class=&quot;message tldr notice&quot;&gt;
    &lt;p&gt;Are you experiencing issues when installing passbolt?&lt;/p&gt;
    
    &lt;a href=&quot;https://community.passbolt.com/c/installation-issues&quot; class=&quot;button primary&quot;&gt;Ask the community!&lt;/a&gt;
    
&lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry></feed>
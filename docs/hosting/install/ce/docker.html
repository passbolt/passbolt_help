<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Passbolt Help | Docker passbolt installation</title>
    <!--
             ____                  __          ____
            / __ \____  _____ ____/ /_  ____  / / /_
           / /_/ / __ `/ ___/ ___/ __ \/ __ \/ / __/
          / ____/ /_/ (__  |__  ) /_/ / /_/ / / /_
         /_/    \__,_/____/____/_.___/\____/_/\__/

         Open source password manager for teams
         Â© 2019 Passbolt SA

     -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta property="og:image" content="https://help.passbolt.com/assets/img/background/og_preview.jpg" />
    <meta property="og:title" content="Docker passbolt installation" />
    <meta property="og:description" content="" />
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/help.min.css">
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/highlight.css">
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/cookie-eu-banner.css">
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/custom.css">
    <link rel="canonical" href="https://help.passbolt.com/hosting/install/ce/docker">
    <link rel="shortcut icon" type="image/x-icon" href="https://help.passbolt.com/assets/favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="Passbolt | Help" href="https://help.passbolt.com/feed.xml">
</head>


<body>
    <div id="container" class="help page background">
            <header>
        <div class="header first ">
            <nav class="greedy">
                <div class="top navigation primary">
                    <ul class="links clearfix">
                        <li class="home with-text"><a href="http://www.passbolt.com/"><span>home</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/services"><span>pricing</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/roadmap"><span>roadmap</span></a></li>
                        <li class="left"><a href="https://community.passbolt.com/"><span>forum</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/blog"><span>blog</span></a></li>
                        <li class="left selected"><a href="https://help.passbolt.com/"><span>help</span></a></li>
                        <li class="left"><a href="https://demo.passbolt.com" class="highlighted" target="_blank" rel="noopener"><span>try it!</span></a></li>
                    </ul>
                    <button class="hidden" count="0">more</button>
                    <ul class="hidden-links hidden"></ul>
                </div>
            </nav>
        </div>
    </header>
    <div class="header second">
        <div class="col1">
            <div class="logo no-img">
                <h1><span>Passbolt</span></h1>
            </div>
        </div>
        <div class="col2 search-wrapper">
            <h2 class="visuallyhidden">Help Search</h2>
            <div>
                <form class="search ready" action="/search.html" method="get">
                    <div class="input required">
                        <label for="search-box">Search</label>
                        <input id="search-box" name="query" maxlength="64" placeholder="Help search" class="fuzzy-search" type="search">
                    </div>
                    <button value="search">
                        <i class="fa fa-fw fa-search"></i>
                        <span class="text visuallyhidden">search</span>
                    </button>
                </form>
            </div>
        </div>
        <div class="col3">
            <div class="edit-on-github">
                <a href="https://github.com/passbolt/passbolt_help/edit/master/_posts/hosting/installation/2021-12-15-hosting-install-docker-ce.md" class="button">
                    <i class="fa fa-github-alt fa-fw"></i> Edit on github</a>
            </div>
        </div>
    </div>

        <div class="panel main" aria-label="Content">
            <div class="panel left">
                
                







<div class="navigation-help" role="navigation">
    <ul>
        <li>
            <h2>Hosting</h2>
        </li>
        
        <li >
            <a href="https://help.passbolt.com/faq/hosting">Hosting FAQ</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/install">Installation</a>
        </li>
        
        
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/update">Update</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/upgrade">Upgrade</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/backup">Backup</a>
        </li>
        
        
        <li >
            <a href="https://community.passbolt.com/c/installation-issues">Installation issues</a>
        </li>
        
        
    </ul>
</div>










                
            </div>
            <div class="panel middle" data-spy="scroll" data-target=".scrollspy">
                <div class="grid grid-responsive-12">
                    <article>
                        <div class="row" id="introduction">
    <div class="col12">
        <div class="breadcrumbs">
            <ul>
                <li>
                    <div class="main-cell">
                        <a href="https://www.passbolt.com"><span>home</span></a>
                    </div>
                </li>
                <li>
                    <div class="main-cell">
                        <a href="/"><span>help</span></a>
                    </div>
                </li>
                
                
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting"><span>hosting</span></a>
                    </div>
                </li>
                
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting/install"><span>install</span></a>
                    </div>
                </li>
                
                
                
                
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting/install/ce/docker.html"><span>docker</span></a>
                    </div>
                </li>
                
            </ul>
        </div>
    </div>
</div>

                        <div class="row" markdown="1">
<div class="col7" markdown="1">
<h1>Docker passbolt installation</h1>
</div>
</div>

                        
<div class="row">
  <div class="col7">

    <div class="message warning">
    <p>
        <b>Important:</b> Installing Passbolt with Docker is considered a somewhat advanced method. Using this method assumes you are familiar with Docker and have run other applications with Docker. If you do not have experience working with Docker we recommend you use another of our installation methods.
    </p>
    
</div>

    <h2 id="system-requirements">System requirements</h2>

    <ul>
      <li>docker: <a href="https://docs.docker.com/get-docker/" target="_blank">https://docs.docker.com/get-docker/</a></li>
      <li>docker-compose: <a href="https://docs.docker.com/compose/install/" target="_blank">https://docs.docker.com/compose/install/</a></li>
      <li><a href="https://docs.docker.com/engine/install/linux-postinstall/" target="_blank">A Linux user able to run docker commands without sudo</a></li>
      <li>a working SMTP server for email notifications</li>
      <li>a working NTP service to avoid GPG authentication issues</li>
    </ul>

    <p>FAQ pages:</p>

    <ul>
      <li><a href="/faq/hosting/set-up-ntp">Set up NTP</a></li>
      <li><a href="/faq/hosting/firewall-rules" target="_blank">Firewall rules</a></li>
    </ul>

    <h2 id="docker-compose">docker-compose</h2>

    <p>The easiest and recommended way to deploy your passbolt stack is to use docker-compose.</p>

    <p><strong>Step 1.</strong> Download our docker-compose.yml example file</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://download.passbolt.com/ce/docker/docker-compose-ce.yaml
wget https://github.com/passbolt/passbolt_docker/releases/latest/download/docker-compose-ce-SHA512SUM.txt
</code></pre></div>    </div>

    <p><strong>Step 2.</strong> Ensure the file has not been corrupted by verifying its shasum</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sha512sum -c docker-compose-ce-SHA512SUM.txt

</code></pre></div>    </div>

    <p>Must return:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose-ce.yaml: OK
</code></pre></div>    </div>

    <div class="message warning">
    <p>
        <b>Warning:</b> If the <i>shasum</i> command output is not correct, the downloaded file has been corrupted. Retry step 1 or ask for support on <a href="https://community.passbolt.com">our community forum</a>.
    </p>
    
</div>

    <p><strong>Step 3.</strong> Configure environment variables in docker-compose-ce.yaml file to customize your instance.</p>

    <div class="message notice">
    <p>
    <b>Notice:</b> By default the docker-compose.yaml file is set to <strong>latest</strong>. We strongly recommend 
    changing that to the <a href="https://hub.docker.com/r/passbolt/passbolt/tags" target="_blank">tag</a> for the version you want to install.
    </p>
    
</div>

    <p>The <code class="language-plaintext highlighter-rouge">APP_FULL_BASE_URL</code> environment variable is set by default to <a href="https://passbolt.local">https://passbolt.local</a>, using a self-signed certificate.</p>

    <p>Update this variable with the server name you plan to use. You will find at the bottom of this documentation links about how to set your own SSL certificate.</p>

    <p>You must configure also SMTP settings to be able to receive notifications and recovery emails. Please find below
the most used environment variables for this purpose:</p>

    <table class="table-parameters">
      <thead>
        <tr>
          <th>Variable name</th>
          <th>Description</th>
          <th>Default value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>EMAIL_DEFAULT_FROM_NAME</td>
          <td>From email username</td>
          <td><code class="language-plaintext highlighter-rouge">'Passbolt'</code></td>
        </tr>
        <tr>
          <td>EMAIL_DEFAULT_FROM</td>
          <td>From email address</td>
          <td><code class="language-plaintext highlighter-rouge">'you@localhost'</code></td>
        </tr>
        <tr>
          <td>EMAIL_TRANSPORT_DEFAULT_HOST</td>
          <td>Server hostname</td>
          <td><code class="language-plaintext highlighter-rouge">'localhost'</code></td>
        </tr>
        <tr>
          <td>EMAIL_TRANSPORT_DEFAULT_PORT</td>
          <td>Server port</td>
          <td><code class="language-plaintext highlighter-rouge">25</code></td>
        </tr>
        <tr>
          <td>EMAIL_TRANSPORT_DEFAULT_USERNAME</td>
          <td>Username for email server auth</td>
          <td><code class="language-plaintext highlighter-rouge">null</code></td>
        </tr>
        <tr>
          <td>EMAIL_TRANSPORT_DEFAULT_PASSWORD</td>
          <td>Password for email server auth</td>
          <td><code class="language-plaintext highlighter-rouge">null</code></td>
        </tr>
        <tr>
          <td>EMAIL_TRANSPORT_DEFAULT_TLS</td>
          <td>Set tls</td>
          <td><code class="language-plaintext highlighter-rouge">null</code></td>
        </tr>
      </tbody>
    </table>

    <p>For more information on which environment variables are available on passbolt, please check the <a href="/configure/environment/reference.html" target="_blank">passbolt environment variable reference</a>.</p>

    <p><strong>Step 4.</strong> Start your containers</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose -f docker-compose-ce.yaml up -d
</code></pre></div>    </div>

    <p><strong>Step 5.</strong> Create first admin user</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose <span class="nt">-f</span> docker-compose-ce.yaml <span class="nb">exec </span>passbolt su <span class="nt">-m</span> <span class="nt">-c</span> <span class="s2">"/usr/share/php/passbolt/bin/cake </span><span class="se">\</span><span class="s2">
                                passbolt register_user </span><span class="se">\</span><span class="s2">
                                -u &lt;your@email.com&gt; </span><span class="se">\</span><span class="s2">
                                -f &lt;yourname&gt; </span><span class="se">\</span><span class="s2">
                                -l &lt;surname&gt; </span><span class="se">\</span><span class="s2">
                                -r admin"</span> <span class="nt">-s</span> /bin/sh www-data
</code></pre></div>    </div>

    <p>It will output a link similar to the below one that can be pasted on the browser to finalize user registration:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://my.domain.tld/setup/install/1eafab88-a17d-4ad8-97af-77a97f5ff552/f097be64-3703-41e2-8ea2-d59cbe1c15bc
</code></pre></div>    </div>

    <p>At this point, you should have a working docker setup running on the <strong>latest</strong> tag. However, it is recommended that users <a href="https://hub.docker.com/r/passbolt/passbolt/tags" target="_blank">pull the tags pointing to specific passbolt versions</a> when running in environments other than testing.</p>

    <h2 id="going-further">Going further</h2>

    <p>Docker FAQs:</p>

    <ul>
      <li><a href="/configure/email/setup" target="_blank">How to configure SMTP to receive emails</a></li>
      <li><a href="/configure/https/ce/docker/manual.html" target="_blank">How to configure HTTPS with my own certificates in docker</a></li>
      <li><a href="/configure/https/ce/docker/auto.html" target="_blank">How to configure HTTPS with Letâs Encrypt in docker</a></li>
      <li><a href="/faq/hosting/how-to-use-rootless-images" target="_blank">How to use rootless images</a></li>
      <li><a href="/faq/hosting/troubleshoot-docker" target="_blank">Troubleshoot Docker</a></li>
      <li><a href="/configure/environment/reference.html" target="_blank">Passbolt reference environment variables</a></li>
      <li><a href="/faq/hosting/docker-secrets" target="_blank">Docker Secrets</a></li>
    </ul>

    <p>Passbolt docker repository:</p>

    <ul>
      <li><a href="https://github.com/passbolt/passbolt_docker/" target="_blank">https://github.com/passbolt/passbolt_docker/</a></li>
    </ul>

    <div class="last-updated">
      <h3>Last updated</h3>
      <p>This article was last updated on 
February
6th,
2023.</p>
    </div>

  </div>
  <div class="col4 last push1">

    <div class="tldr">
    <h4 class="visuallyhidden">Available on docker hub</h4>
    <p>
        <a href="https://hub.docker.com/r/passbolt/passbolt/" target="_blank" rel="noopener nofollow">
            <img alt="Docker Logo" src="/assets/img/third_party/docker_small_h.png" style="" />
        </a>
    </p>
    <a href="https://hub.docker.com/r/passbolt/passbolt/" class="primary button">
        Get passbolt container!
    </a>
</div>

    <div class="message tldr notice">
    <p>Are you experiencing issues when installing passbolt?</p>
    
    <a href="https://community.passbolt.com/c/installation-issues" class="button primary">Ask the community!</a>
    
</div>

  </div>
</div>

                    </article>
                </div>
            </div>
        </div>
            <footer>
        <div class="footer">
            <ul class="footer-links">
                <li><a href="https://www.passbolt.com/licence">Terms</a></li>
                <li><a href="https://www.passbolt.com/privacy">Privacy</a></li>
                <li><a href="https://www.passbolt.com/credits">Credits</a></li>
                <li><a href="https://careers.passbolt.com">Careers</a></li>
            </ul>
        </div>
    </footer>
    <div id="cookies-eu-banner" class="visually-hidden">
        ðª &nbsp; Do you accept cookies for statistical purposes?
        <a href="https://www.passbolt.com/privacy" id="cookies-eu-more">(Read more)</a>
        <a class="button primary" id="cookies-eu-accept">Accept</a>
        <a id="cookies-eu-reject">No thanks!</a>
    </div>


    </div>
    <script src="https://consent.cookiebot.com/uc.js" data-cbid="900808a8-f178-4994-b2ad-66bf3ccca5f7" data-blockingmode="auto" strategy="beforeInteractive"></script>
<script src="https://help.passbolt.com/assets/js/matomo-tag-manager.js"></script>
<script src="https://help.passbolt.com/assets/js/matomo-analytics.js"></script>
<script src="https://code.jquery.com/jquery-3.5.0.slim.min.js" integrity="sha384-/IFzzQmt1S744I+IQO4Mc1uphkxbXt1tEwjQ/qSw2p8pXWck09sLvqHmKDYYwReJ" crossorigin="anonymous"></script>
<script src="https://help.passbolt.com/assets/js/analytics.js"></script>
<script src="https://help.passbolt.com/assets/js/greedynav.js"></script>
</body>

</html>